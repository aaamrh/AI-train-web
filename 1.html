<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

  <style>
  html,body{
    height: 100%;
    /* overflow: hidden;  */
  }
  body{
    margin: 0;
  }

  #canvas{
    background: #eee;
  }

  #code{
    border: 1px solid #ccc;
    width: 500px;
    min-height: 200px;
    max-height: 300px;
    overflow: auto;
    word-break: break-all;

  }
  </style>
</head>
<body>
  <canvas id='canvas' height="800" width="1500">
    哥,你的浏览器太旧了
  </canvas>
  <button id='btn1'>保存</button>
  <button id='btn2'>加载</button>
  <pre id='code'></pre>


  <script src="./utils/utils.js"></script>
  <script src="./tools.js"></script>
  <script src="./components/box.js"></script>
  <script src="./components/line.js"></script>
  <script>
    /** 
     *  STATE 设置: 
     *    鼠标点下: 如果在box上: 拖拽（isDrag）
     *             如果在knot上: 画线（isDrawLine）
     *             dragOrLine() 
     * 
     *  STATE 还原：
     *    doc鼠标抬起: mosdown = false, mosup = true
     *                isDrag = false, STATE.isDrawLine = false;
     *                O.optBox = null, O.optKnot = null;
    */
    let cv = document.getElementById('canvas');
    let ctx = cv.getContext('2d');
    // 获取鼠标在canvas上的坐标
    let mousePos = T.getMousePos(cv)

    let save = document.getElementById('btn1');
    let load = document.getElementById('btn2');
    let code = document.getElementById('code')

    // FIXME: 当出现滚动条时会影响鼠标在box上的判断
    let scrollTop=0, scrollLeft=0;

    let O = {
      boxes:[],
      boxes1: {},
      knots:{},
      lines:{},
      hoverBox:null,
      hoverKnot:null,
      optBox: null,
      optKnot: null,
      tempLine: null
    }
    let STATE = {
      mosdown:false,
      mosup:true,
      isDrag: false,
      isDrawLine: false,
    }
  
    let box1 = new TitleBox({x:100, y:100})
    let box2 = new Box({x:150, y:150, topBg:'red'})
    let box3 = new Box({x:200, y:200, topBg:'pink'})
    let box4 = new Box({x:250, y:250, topBg:'yellow'})
    let box5 = new Box({x:300, y:300, topBg:'orange'})
    O.boxes1[box1.id] = box1;
    O.boxes1[box2.id] = box2;
    O.boxes1[box3.id] = box3;
    O.boxes1[box4.id] = box4;
    O.boxes1[box5.id] = box5;


    O.boxes.push(box1)
    O.boxes.push(box2)
    O.boxes.push(box3)
    O.boxes.push(box4)
    O.boxes.push(box5)

    // 初始化的时候遍历 box， O.knots 和 O.lines中添加对象
    // 连线后向 O.lines 中添加


    /** 
     * 1. 鼠标点下， 判断是拖拽还是连线  
     * 2. 鼠标移动， 拖拽 || 连线
    */
    cv.addEventListener('mousedown', (ev)=>{
      STATE.mosdown = true;
      STATE.mosup = false;

      let posOnObj = isMouseOnObj();
      if(!posOnObj) {return}

      let knotActive = isPointKnot(mousePos)
      if( knotActive ){ 
        O.optKnot = O.hoverBox.knots[knotActive.id] 
        O.tempLine = new Line({})
      }
      

      //  设置 STATE: drag drawLine
      if(posOnObj){ dragOrLine( posOnObj ) }                  // 1
      let opts = options(posOnObj)

      cv.addEventListener('mousemove', opts)
      cv.addEventListener('mouseup', ()=>{
        cv.removeEventListener('mousemove', opts)
      })
    })  // mousedown END

    
    function options(posOnObj){
      return function(){          // 2
        if(STATE.isDrag){                       
          O.optBox.transform({
            x: mousePos.x - posOnObj.x,
            y: mousePos.y - posOnObj.y
          })

          function updatePos(){
            let line = null, fromKnot, fromBox, toKnot, toBox;

            for(let i in O.lines){
              line = O.lines[i];

              fromKnot = line.from.knot.id
              fromBox = line.from.box.id
              toBox = line.to.box.id
              toKnot = line.to.knot.id

              line.transform({
                start: O.boxes1[fromBox].knots[fromKnot],
                to: O.boxes1[toBox].knots[toKnot]
              })
            }
          }
          updatePos()

          refresh()
        }

        if(STATE.isDrawLine){
          O.tempLine.drawLine({
            startX: O.optKnot.junction.x,
            startY: O.optKnot.junction.y,
            endX: mousePos.x,
            endY: mousePos.y
          })
        }
      }
    }


    cv.addEventListener('mousemove', function(){
      // BUG: 拖拽时，鼠标移动过快会丢失 hoverbox
      // console.log('--------------------------')
      // console.log(O.optBox)
      // console.log(O.hoverBox)
      // console.log(O.optKnot)
      // console.log(O.hoverKnot)
      if( isMouseOnObj() ){
        O.hoverBox.transform({ ishover: true })

        let actKnot = isPointKnot(mousePos);
        setKnotStyle(actKnot)
        refresh()
        if( !actKnot ){ O.hoverKnot = null }
      }else{
        if(!STATE.isDrag){
          O.hoverBox = null;
        }
        O.hoverKnot = null;
      }
    })

    cv.addEventListener('mouseup', ()=>{
      // TODO:  
      // 吸附功能
      if( !O.hoverKnot ){ return }
      if( O.optBox.id === O.hoverBox.id ){ return }


      let line1 = new Line({
        from: {
          box: O.optBox,
          knot: O.optKnot
        },
        to: {
          box:O.hoverBox,
          knot: O.hoverKnot
        },
        start : {
          x: O.optKnot.junction.x,
          y: O.optKnot.junction.y
        },
        end : {
          x: mousePos.x,
          y: mousePos.y
        }
      })
      O.lines[line1.id] = line1;
    })
       
   
    document.addEventListener('mouseup', ()=>{ 
      STATE.mosdown = false;
      STATE.mosup = true;

      STATE.isDrag = false;
      STATE.isDrawLine = false; 

      O.optBox = null;
      O.optKnot = null;

      O.tempLine = null;
    })
    
    /**
     * 鼠标是否在 obj 上
     * 如果在：修改 O.obj,  STATE.isDrag
     * @return {鼠标在obj上的位置|false} 
     * NOTICE: 这里设置 O.obj,  O.knot
     * 
     * （移动 && 点击） 都会判断 mos是否在对象上
     */
    function isMouseOnObj(){
      let result;
      let num = 0;

      for(let i=O.boxes.length-1; i>=0; i--){

        O.boxes[i].transform({ ishover:false })
       
        if( O.boxes[i].isPoint(mousePos) ){  // 鼠标在box上
          // 鼠标在多个box重合的地方时，所有的box会都有边框,因此只设置第一个box的hover状态(num == 0)
          if(num == 0){
            if(STATE.mosdown){  // 第一次点击（不拖拽，不画线）时设置 optBox
              if( !STATE.isDrag && !STATE.isDrawLine ){ O.optBox = O.boxes[i] };
            }
            if(!STATE.isDrag){ O.hoverBox = O.boxes[i] }

            O.hoverBox.transform({ ishover: true });
            num++;
          }

          result = getPosOnObj()
        }
      }
      refresh()

      if(!result){ return false }
      return result;
    }  // isMouseOnObj  END

    
    /**
     * 获取鼠标在 obj 上的坐标
     */
    function getPosOnObj(){
      let pos = {};
      pos.x = mousePos.x - O.hoverBox.x;
      pos.y = mousePos.y - O.hoverBox.y;
      return pos
    }


    function isPointKnot(pos){
      // 鼠标是否在 连接点 上, 是返回该 knot，不是返回 false
      return O.hoverBox.isPointKnot(pos)
    }


    function setKnotStyle(knot){
      // 设置 knot 的 hover 样式
      if( knot ){
        knot.fillStyle = 'red';
        // 节点对应的box存储到 knots ： {'left-knot': Box1}
        O.knots[ knot.id ] = O.hoverBox;
        O.hoverKnot = O.hoverBox.knots[knot.id];
      }else{
        // O.hoverKnot = null;
        let box = null;
        for(let id in O.knots){
          box = O.knots[id];
          box.knots[id].fillStyle = '#333';
        }
      }
    }


    function dragOrLine(o){
      // 拖拽: 鼠标点击对象 && 不在连接点上 
      if( o && !STATE.isDrawLine ){ STATE.isDrag = true }

      // 如果点击在 knot 上不是拖动， 是连线
      if( isPointKnot(mousePos) ){  
        STATE.isDrag = false;
        STATE.isDrawLine = true; 
      }
    }

        
    function refresh(){
      ctx.clearRect(0, 0, cv.width, cv.height);
      O.boxes.forEach( item => item.draw() )
      
      for(let i in O.lines){ O.lines[i].draw() }
    }

    save.onclick = function(){
      var res = {};
      res.boxes = O.boxes1;
      res.lines = O.lines;
      
      code.innerHTML = JSON.stringify(res, null, 2)
    }

    load.onclick = function(){
      let o;
      let data = {
        "boxes": {
          "box-IGuLlT": {
            "_hash": "IGuLlT",
            "id": "box-IGuLlT",
            "x": 100,
            "y": 100,
            "w": 160,
            "topH": 150,
            "bottomH": 50,
            "topBg": "#fff",
            "bottomBg": "#b4b4b4",
            "borderRadius": 0,
            "knots": {
              "top-knot-IGuLlT": {
                "id": "top-knot-IGuLlT",
                "x": 180,
                "y": 104,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 180,
                  "y": 100
                }
              },
              "right-knot-IGuLlT": {
                "id": "right-knot-IGuLlT",
                "x": 256,
                "y": 200,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 260,
                  "y": 200
                }
              },
              "bottom-knot-IGuLlT": {
                "id": "bottom-knot-IGuLlT",
                "x": 180,
                "y": 296,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 180,
                  "y": 300
                }
              },
              "left-knot-IGuLlT": {
                "id": "left-knot-IGuLlT",
                "x": 104,
                "y": 200,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 100,
                  "y": 200
                }
              }
            },
            "lines": {
              "length": 0
            },
            "ishover": false
          },
          "box-NjLrFt": {
            "_hash": "NjLrFt",
            "id": "box-NjLrFt",
            "x": 142,
            "y": 142,
            "w": 160,
            "topH": 150,
            "bottomH": 50,
            "topBg": "red",
            "bottomBg": "#b4b4b4",
            "borderRadius": 0,
            "knots": {
              "top-knot-NjLrFt": {
                "id": "top-knot-NjLrFt",
                "x": 222,
                "y": 146,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 222,
                  "y": 142
                }
              },
              "right-knot-NjLrFt": {
                "id": "right-knot-NjLrFt",
                "x": 298,
                "y": 242,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 302,
                  "y": 242
                }
              },
              "bottom-knot-NjLrFt": {
                "id": "bottom-knot-NjLrFt",
                "x": 222,
                "y": 338,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 222,
                  "y": 342
                }
              },
              "left-knot-NjLrFt": {
                "id": "left-knot-NjLrFt",
                "x": 146,
                "y": 242,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 142,
                  "y": 242
                }
              }
            },
            "lines": {
              "length": 0
            },
            "ishover": false
          },
          "box-VpA95C": {
            "_hash": "VpA95C",
            "id": "box-VpA95C",
            "x": 200,
            "y": 200,
            "w": 160,
            "topH": 150,
            "bottomH": 50,
            "topBg": "pink",
            "bottomBg": "#b4b4b4",
            "borderRadius": 0,
            "knots": {
              "top-knot-VpA95C": {
                "id": "top-knot-VpA95C",
                "x": 280,
                "y": 204,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 280,
                  "y": 200
                }
              },
              "right-knot-VpA95C": {
                "id": "right-knot-VpA95C",
                "x": 356,
                "y": 300,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 360,
                  "y": 300
                }
              },
              "bottom-knot-VpA95C": {
                "id": "bottom-knot-VpA95C",
                "x": 280,
                "y": 396,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 280,
                  "y": 400
                }
              },
              "left-knot-VpA95C": {
                "id": "left-knot-VpA95C",
                "x": 204,
                "y": 300,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 200,
                  "y": 300
                }
              }
            },
            "lines": {
              "length": 0
            },
            "ishover": false
          },
          "box-JSItmn": {
            "_hash": "JSItmn",
            "id": "box-JSItmn",
            "x": 250,
            "y": 250,
            "w": 160,
            "topH": 150,
            "bottomH": 50,
            "topBg": "yellow",
            "bottomBg": "#b4b4b4",
            "borderRadius": 0,
            "knots": {
              "top-knot-JSItmn": {
                "id": "top-knot-JSItmn",
                "x": 330,
                "y": 254,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 330,
                  "y": 250
                }
              },
              "right-knot-JSItmn": {
                "id": "right-knot-JSItmn",
                "x": 406,
                "y": 350,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 410,
                  "y": 350
                }
              },
              "bottom-knot-JSItmn": {
                "id": "bottom-knot-JSItmn",
                "x": 330,
                "y": 446,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 330,
                  "y": 450
                }
              },
              "left-knot-JSItmn": {
                "id": "left-knot-JSItmn",
                "x": 254,
                "y": 350,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 250,
                  "y": 350
                }
              }
            },
            "lines": {
              "length": 0
            },
            "ishover": false
          },
          "box-5DduqJ": {
            "_hash": "5DduqJ",
            "id": "box-5DduqJ",
            "x": 780,
            "y": 406,
            "w": 160,
            "topH": 150,
            "bottomH": 50,
            "topBg": "orange",
            "bottomBg": "#b4b4b4",
            "borderRadius": 0,
            "knots": {
              "top-knot-5DduqJ": {
                "id": "top-knot-5DduqJ",
                "x": 860,
                "y": 410,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 860,
                  "y": 406
                }
              },
              "right-knot-5DduqJ": {
                "id": "right-knot-5DduqJ",
                "x": 936,
                "y": 506,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 940,
                  "y": 506
                }
              },
              "bottom-knot-5DduqJ": {
                "id": "bottom-knot-5DduqJ",
                "x": 860,
                "y": 602,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 860,
                  "y": 606
                }
              },
              "left-knot-5DduqJ": {
                "id": "left-knot-5DduqJ",
                "x": 784,
                "y": 506,
                "r": 4,
                "fillStyle": "#333",
                "junction": {
                  "x": 780,
                  "y": 506
                }
              }
            },
            "lines": {
              "length": 0
            },
            "ishover": false
          }
        },
        "lines": {
          "Line-et3vmu": {
            "_hash": "et3vmu",
            "id": "Line-et3vmu",
            "from": {
              "box": {
                "_hash": "5DduqJ",
                "id": "box-5DduqJ",
                "x": 780,
                "y": 406,
                "w": 160,
                "topH": 150,
                "bottomH": 50,
                "topBg": "orange",
                "bottomBg": "#b4b4b4",
                "borderRadius": 0,
                "knots": {
                  "top-knot-5DduqJ": {
                    "id": "top-knot-5DduqJ",
                    "x": 860,
                    "y": 410,
                    "r": 4,
                    "fillStyle": "#333",
                    "junction": {
                      "x": 860,
                      "y": 406
                    }
                  },
                  "right-knot-5DduqJ": {
                    "id": "right-knot-5DduqJ",
                    "x": 936,
                    "y": 506,
                    "r": 4,
                    "fillStyle": "#333",
                    "junction": {
                      "x": 940,
                      "y": 506
                    }
                  },
                  "bottom-knot-5DduqJ": {
                    "id": "bottom-knot-5DduqJ",
                    "x": 860,
                    "y": 602,
                    "r": 4,
                    "fillStyle": "#333",
                    "junction": {
                      "x": 860,
                      "y": 606
                    }
                  },
                  "left-knot-5DduqJ": {
                    "id": "left-knot-5DduqJ",
                    "x": 784,
                    "y": 506,
                    "r": 4,
                    "fillStyle": "#333",
                    "junction": {
                      "x": 780,
                      "y": 506
                    }
                  }
                },
                "lines": {
                  "length": 0
                },
                "ishover": false
              },
              "knot": {
                "id": "left-knot-5DduqJ",
                "x": 784,
                "y": 506,
                "r": 4,
                "fillStyle": "red",
                "junction": {
                  "x": 780,
                  "y": 506
                }
              }
            },
            "to": {
              "box": {
                "_hash": "JSItmn",
                "id": "box-JSItmn",
                "x": 250,
                "y": 250,
                "w": 160,
                "topH": 150,
                "bottomH": 50,
                "topBg": "yellow",
                "bottomBg": "#b4b4b4",
                "borderRadius": 0,
                "knots": {
                  "top-knot-JSItmn": {
                    "id": "top-knot-JSItmn",
                    "x": 330,
                    "y": 254,
                    "r": 4,
                    "fillStyle": "#333",
                    "junction": {
                      "x": 330,
                      "y": 250
                    }
                  },
                  "right-knot-JSItmn": {
                    "id": "right-knot-JSItmn",
                    "x": 406,
                    "y": 350,
                    "r": 4,
                    "fillStyle": "#333",
                    "junction": {
                      "x": 410,
                      "y": 350
                    }
                  },
                  "bottom-knot-JSItmn": {
                    "id": "bottom-knot-JSItmn",
                    "x": 330,
                    "y": 446,
                    "r": 4,
                    "fillStyle": "#333",
                    "junction": {
                      "x": 330,
                      "y": 450
                    }
                  },
                  "left-knot-JSItmn": {
                    "id": "left-knot-JSItmn",
                    "x": 254,
                    "y": 350,
                    "r": 4,
                    "fillStyle": "#333",
                    "junction": {
                      "x": 250,
                      "y": 350
                    }
                  }
                },
                "lines": {
                  "length": 0
                },
                "ishover": false
              },
              "knot": {
                "id": "right-knot-JSItmn",
                "x": 406,
                "y": 350,
                "r": 4,
                "fillStyle": "red",
                "junction": {
                  "x": 410,
                  "y": 350
                }
              }
            },
            "start": {
              "x": 780,
              "y": 506
            },
            "end": {
              "x": 406,
              "y": 353
            },
            "lines": {
              "length": 1,
              "Line-et3vmu": {
                "id": "Line-et3vmu",
                "startX": 780,
                "startY": 506,
                "endX": 406,
                "endY": 353,
                "from": {
                  "box": {
                    "_hash": "5DduqJ",
                    "id": "box-5DduqJ",
                    "x": 780,
                    "y": 406,
                    "w": 160,
                    "topH": 150,
                    "bottomH": 50,
                    "topBg": "orange",
                    "bottomBg": "#b4b4b4",
                    "borderRadius": 0,
                    "knots": {
                      "top-knot-5DduqJ": {
                        "id": "top-knot-5DduqJ",
                        "x": 860,
                        "y": 410,
                        "r": 4,
                        "fillStyle": "#333",
                        "junction": {
                          "x": 860,
                          "y": 406
                        }
                      },
                      "right-knot-5DduqJ": {
                        "id": "right-knot-5DduqJ",
                        "x": 936,
                        "y": 506,
                        "r": 4,
                        "fillStyle": "#333",
                        "junction": {
                          "x": 940,
                          "y": 506
                        }
                      },
                      "bottom-knot-5DduqJ": {
                        "id": "bottom-knot-5DduqJ",
                        "x": 860,
                        "y": 602,
                        "r": 4,
                        "fillStyle": "#333",
                        "junction": {
                          "x": 860,
                          "y": 606
                        }
                      },
                      "left-knot-5DduqJ": {
                        "id": "left-knot-5DduqJ",
                        "x": 784,
                        "y": 506,
                        "r": 4,
                        "fillStyle": "#333",
                        "junction": {
                          "x": 780,
                          "y": 506
                        }
                      }
                    },
                    "lines": {
                      "length": 0
                    },
                    "ishover": false
                  },
                  "knot": {
                    "id": "left-knot-5DduqJ",
                    "x": 784,
                    "y": 506,
                    "r": 4,
                    "fillStyle": "red",
                    "junction": {
                      "x": 780,
                      "y": 506
                    }
                  }
                },
                "to": {
                  "box": {
                    "_hash": "JSItmn",
                    "id": "box-JSItmn",
                    "x": 250,
                    "y": 250,
                    "w": 160,
                    "topH": 150,
                    "bottomH": 50,
                    "topBg": "yellow",
                    "bottomBg": "#b4b4b4",
                    "borderRadius": 0,
                    "knots": {
                      "top-knot-JSItmn": {
                        "id": "top-knot-JSItmn",
                        "x": 330,
                        "y": 254,
                        "r": 4,
                        "fillStyle": "#333",
                        "junction": {
                          "x": 330,
                          "y": 250
                        }
                      },
                      "right-knot-JSItmn": {
                        "id": "right-knot-JSItmn",
                        "x": 406,
                        "y": 350,
                        "r": 4,
                        "fillStyle": "#333",
                        "junction": {
                          "x": 410,
                          "y": 350
                        }
                      },
                      "bottom-knot-JSItmn": {
                        "id": "bottom-knot-JSItmn",
                        "x": 330,
                        "y": 446,
                        "r": 4,
                        "fillStyle": "#333",
                        "junction": {
                          "x": 330,
                          "y": 450
                        }
                      },
                      "left-knot-JSItmn": {
                        "id": "left-knot-JSItmn",
                        "x": 254,
                        "y": 350,
                        "r": 4,
                        "fillStyle": "#333",
                        "junction": {
                          "x": 250,
                          "y": 350
                        }
                      }
                    },
                    "lines": {
                      "length": 0
                    },
                    "ishover": false
                  },
                  "knot": {
                    "id": "right-knot-JSItmn",
                    "x": 406,
                    "y": 350,
                    "r": 4,
                    "fillStyle": "red",
                    "junction": {
                      "x": 410,
                      "y": 350
                    }
                  }
                }
              }
            }
          }
        }
      }
      ctx.clearRect(0, 0, cv.width, cv.height);
      
      const mapping = {
        'boxes': function(data){ 
          let {x,y,w,topH,bottomH,topBg,bottomBg,borderRadius} = data
          o = new Box({x,y,w,topH,bottomH,topBg,bottomBg,borderRadius})
          o.draw()
        },
        'lines': function(data){
          console.log(data)
          let {id, from, to, start, end} = data
          o = new Line({id, from, to, start, end})
          o.draw()
        }
      }
      for(let i in data){
        for(let j in data[i]){
          mapping[i]( data[i][j] )
        }
      }
    }

    /*
      var yImg = new Image();
      yImg.src = './arcTo.png';
      yImg.onload = function(){
        draw(this)
      }
      function draw(obj){
        ctx.drawImage(obj, 100, 50) 
      }
    */


    /*
    {"boxes":{"box-eKs8Xr":{"_hash":"eKs8Xr","id":"box-eKs8Xr","x":100,"y":100,"w":160,"topH":150,"bottomH":50,"topBg":"#fff","bottomBg":"#b4b4b4","borderRadius":0,"knots":{},"lines":{"length":0},"ishover":false},"box-z6BJKF":{"_hash":"z6BJKF","id":"box-z6BJKF","x":150,"y":150,"w":160,"topH":150,"bottomH":50,"topBg":"red","bottomBg":"#b4b4b4","borderRadius":0,"knots":{},"lines":{"length":0},"ishover":false},"box-7TCfM0":{"_hash":"7TCfM0","id":"box-7TCfM0","x":200,"y":200,"w":160,"topH":150,"bottomH":50,"topBg":"pink","bottomBg":"#b4b4b4","borderRadius":0,"knots":{},"lines":{"length":0},"ishover":false},"box-ZLisJ0":{"_hash":"ZLisJ0","id":"box-ZLisJ0","x":250,"y":250,"w":160,"topH":150,"bottomH":50,"topBg":"yellow","bottomBg":"#b4b4b4","borderRadius":0,"knots":{},"lines":{"length":0},"ishover":false},"box-N20qJ3":{"_hash":"N20qJ3","id":"box-N20qJ3","x":300,"y":300,"w":160,"topH":150,"bottomH":50,"topBg":"orange","bottomBg":"#b4b4b4","borderRadius":0,"knots":{},"lines":{"length":0},"ishover":false}},"lines":{}}
    */

  </script>
</body>
</html>